<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>spr_miniscanner</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>-2</depth>
  <persistent>0</persistent>
  <parentName>&lt;undefined&gt;</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>rdy = 0;
alarm[0] = 1;
moving = 0;
mode = 0;
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>dual = ds_list_find_value(ds_list_find_value(controller.scan_list,scanner),0);
rdy = 1;
if (master == 1)
    {
    if (mode == 2)
        {
        x = ds_list_find_value(ds_list_find_value(controller.scan_list,scanner),1)/2+256;
        y = 256-ds_list_find_value(ds_list_find_value(controller.scan_list,scanner),2)/2;
        xrad = ds_list_find_value(ds_list_find_value(controller.scan_list,scanner),3);
        yrad = ds_list_find_value(ds_list_find_value(controller.scan_list,scanner),4);
        angle = ds_list_find_value(ds_list_find_value(controller.scan_list,scanner),6);
        alpha = ds_list_find_value(ds_list_find_value(controller.scan_list,scanner),5);
        }
    else if (mode == 3)
        {
        x = ds_list_find_value(ds_list_find_value(controller.scan_list,scanner),1)/2;
        y = ds_list_find_value(ds_list_find_value(controller.scan_list,scanner),7)/2+256;
        xrad = ds_list_find_value(ds_list_find_value(controller.scan_list,scanner),3);
        yrad = ds_list_find_value(ds_list_find_value(controller.scan_list,scanner),4);
        angle = ds_list_find_value(ds_list_find_value(controller.scan_list,scanner),6);
        alpha = ds_list_find_value(ds_list_find_value(controller.scan_list,scanner),5);
        }
    else if (mode == 4)
        {
        x = 512-ds_list_find_value(ds_list_find_value(controller.scan_list,scanner),7)/2;
        y = 512-ds_list_find_value(ds_list_find_value(controller.scan_list,scanner),2)/2;
        xrad = ds_list_find_value(ds_list_find_value(controller.scan_list,scanner),3);
        yrad = ds_list_find_value(ds_list_find_value(controller.scan_list,scanner),4);
        angle = ds_list_find_value(ds_list_find_value(controller.scan_list,scanner),6);
        alpha = ds_list_find_value(ds_list_find_value(controller.scan_list,scanner),5);
        }
    }
else
    {
    if (mode == 2)
        {
        x = 512-ds_list_find_value(ds_list_find_value(controller.scan_list,scanner),1)/2;
        y = 256-ds_list_find_value(ds_list_find_value(controller.scan_list,scanner),2)/2;
        xrad = -ds_list_find_value(ds_list_find_value(controller.scan_list,scanner),3);
        yrad = ds_list_find_value(ds_list_find_value(controller.scan_list,scanner),4);
        angle = ds_list_find_value(ds_list_find_value(controller.scan_list,scanner),6);
        alpha = ds_list_find_value(ds_list_find_value(controller.scan_list,scanner),5);
        }
    else if (mode == 3)
        {
        x = 256-ds_list_find_value(ds_list_find_value(controller.scan_list,scanner),1)/2;
        y = ds_list_find_value(ds_list_find_value(controller.scan_list,scanner),7)/2+256;
        xrad = -ds_list_find_value(ds_list_find_value(controller.scan_list,scanner),3);
        yrad = ds_list_find_value(ds_list_find_value(controller.scan_list,scanner),4);
        angle = ds_list_find_value(ds_list_find_value(controller.scan_list,scanner),6);
        alpha = ds_list_find_value(ds_list_find_value(controller.scan_list,scanner),5);
        }
    else if (mode == 4)
        {
        x = 512-ds_list_find_value(ds_list_find_value(controller.scan_list,scanner),7)/2;
        y = 512-ds_list_find_value(ds_list_find_value(controller.scan_list,scanner),2)/2;
        xrad = ds_list_find_value(ds_list_find_value(controller.scan_list,scanner),3);
        yrad = ds_list_find_value(ds_list_find_value(controller.scan_list,scanner),4);
        angle = ds_list_find_value(ds_list_find_value(controller.scan_list,scanner),6);
        alpha = ds_list_find_value(ds_list_find_value(controller.scan_list,scanner),5);
        }
    }
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if (!rdy)
    exit;

if (mode == 2)
    {
    if ((moving == 1) and (controller.selected_scanner == scanner))
        {
        if (keyboard_check(vk_shift))
            {
            alpha += (mouse_x-mouse_xprevious)/100;
            if (alpha &gt; 0.9) alpha = 0.9;
            if (alpha &lt; 0.05) alpha = 0.05;
            angle += (mouse_y-mouse_yprevious)/100;
            if (angle &gt; pi/3) angle = pi/3;
            if (angle &lt; 0.05) angle = 0.05;
            }
        else
            {
            x += mouse_x-mouse_xprevious;
            y += mouse_y-mouse_yprevious;
            if (x &lt; 256) x = 256;
            if (x &gt; 512) x = 512;
            if (y &lt; 0) y = 0;
            if (y &gt; 256) y = 256;
            
            if ((dual == 1) and (master == 1))
                {
                slave.x -= mouse_x-mouse_xprevious;
                slave.y += mouse_y-mouse_yprevious;
                if (slave.x &lt; 256) slave.x = 256;
                if (slave.x &gt; 512) slave.x = 512;
                if (slave.y &lt; 0) slave.y = 0;
                if (slave.y &gt; 256) slave.y = 256;
                }
            }
        
        mouse_xprevious = mouse_x;
        mouse_yprevious = mouse_y;
        }
    else if ((moving == 2) and (controller.selected_scanner == scanner))
        {
        if (keyboard_check(vk_shift))
            {
            alpha += (mouse_x-mouse_xprevious)/100;
            if (alpha &gt; 0.9) alpha = 0.9;
            if (alpha &lt; 0.05) alpha = 0.05;
            angle += (mouse_y-mouse_yprevious)/100;
            if (angle &gt; pi/3) angle = pi/3;
            if (angle &lt; 0.05) angle = 0.05;
            }
        else
            {
            xrad += degtorad((mouse_x-mouse_xprevious)/2);
            yrad -= degtorad((mouse_y-mouse_yprevious)/2);
            if (xrad &lt; -pi/4) xrad = -pi/4;
            if (xrad &gt; pi/4) xrad = pi/4;
            if (yrad &lt; -pi/4) yrad = -pi/4;
            if (yrad &gt; pi/4) yrad = pi/4;
            
            if ((dual == 1) and (master == 1))
                {
                slave.xrad -= degtorad((mouse_x-mouse_xprevious)/2);
                slave.yrad -= degtorad((mouse_y-mouse_yprevious)/2);
                if (slave.xrad &lt; -pi/4) slave.xrad = -pi/4;
                if (slave.xrad &gt; pi/4) slave.xrad = pi/4;
                if (slave.yrad &lt; -pi/4) slave.yrad = -pi/4;
                if (slave.yrad &gt; pi/4) slave.yrad = pi/4;
                }
            }
            
        mouse_xprevious = mouse_x;
        mouse_yprevious = mouse_y;
        }
    }
else if (mode == 3)
    {
    if ((moving == 1) and (controller.selected_scanner == scanner))
        {
        if (keyboard_check(vk_shift))
            {
            alpha += (mouse_x-mouse_xprevious)/100;
            if (alpha &gt; 0.9) alpha = 0.9;
            if (alpha &lt; 0.05) alpha = 0.05;
            angle += (mouse_y-mouse_yprevious)/100;
            if (angle &gt; pi/3) angle = pi/3;
            if (angle &lt; 0.05) angle = 0.05;
            }
        else
            {
            x += mouse_x-mouse_xprevious;
            y += mouse_y-mouse_yprevious;
            if (x &lt; 0) x = 0;
            if (x &gt; 256) x = 256;
            if (y &lt; 256) y = 256;
            if (y &gt; 512) y = 512;
            
            if ((dual == 1) and (master == 1))
                {
                slave.x -= mouse_x-mouse_xprevious;
                slave.y += mouse_y-mouse_yprevious;
                if (slave.x &lt; 0) slave.x = 0;
                if (slave.x &gt; 256) slave.x = 256;
                if (slave.y &lt; 256) slave.y = 256;
                if (slave.y &gt; 512) slave.y = 512;
                }
            }
        
        mouse_xprevious = mouse_x;
        mouse_yprevious = mouse_y;
        }
    else if ((moving == 2) and (controller.selected_scanner == scanner))
        {
        if (keyboard_check(vk_shift))
            {
            alpha += (mouse_x-mouse_xprevious)/100;
            if (alpha &gt; 0.9) alpha = 0.9;
            if (alpha &lt; 0.05) alpha = 0.05;
            angle += (mouse_y-mouse_yprevious)/100;
            if (angle &gt; pi/3) angle = pi/3;
            if (angle &lt; 0.05) angle = 0.05;
            }
        else
            {
            xrad += degtorad((mouse_x-mouse_xprevious)/2);
            if (xrad &lt; -pi/4) xrad = -pi/4;
            if (xrad &gt; pi/4) xrad = pi/4;
            
            if ((dual == 1) and (master == 1))
                {
                slave.xrad -= degtorad((mouse_x-mouse_xprevious)/2);
                if (slave.xrad &lt; -pi/4) slave.xrad = -pi/4;
                if (slave.xrad &gt; pi/4) slave.xrad = pi/4;
                }
            }
        
        mouse_xprevious = mouse_x;
        mouse_yprevious = mouse_y;
        }
    }
else if (mode == 4)
    {
    if ((moving == 1) and (controller.selected_scanner == scanner))
        {
        if (keyboard_check(vk_shift))
            {
            alpha += (mouse_x-mouse_xprevious)/100;
            if (alpha &gt; 0.9) alpha = 0.9;
            if (alpha &lt; 0.05) alpha = 0.05;
            angle += (mouse_y-mouse_yprevious)/100;
            if (angle &gt; pi/3) angle = pi/3;
            if (angle &lt; 0.05) angle = 0.05;
            }
        else
            {
            x += mouse_x-mouse_xprevious;
            y += mouse_y-mouse_yprevious;
            if (x &lt; 256) x = 256;
            if (x &gt; 512) x = 512;
            if (y &lt; 256) y = 256;
            if (y &gt; 512) y = 512;
            }
        
        mouse_xprevious = mouse_x;
        mouse_yprevious = mouse_y;
        }
    else if ((moving == 2) and (controller.selected_scanner == scanner))
        {
        if (keyboard_check(vk_shift))
            {
            alpha += (mouse_x-mouse_xprevious)/100;
            if (alpha &gt; 0.9) alpha = 0.9;
            if (alpha &lt; 0.05) alpha = 0.05;
            angle += (mouse_y-mouse_yprevious)/100;
            if (angle &gt; pi/3) angle = pi/3;
            if (angle &lt; 0.05) angle = 0.05;
            }
        else
            {
            yrad -= degtorad((mouse_y-mouse_yprevious)/2);
            if (yrad &lt; -pi/4) yrad = -pi/4;
            if (yrad &gt; pi/4) yrad = pi/4;
            }
        
        mouse_xprevious = mouse_x;
        mouse_yprevious = mouse_y;
        }
    }
    
if (moving)
    {
    controller.refresh_setup_surf = 1;
    if (master == 1)
        {
        if (mode == 2)
            {
            ds_list_replace(ds_list_find_value(controller.scan_list,scanner),1,(x-256)*2);
            ds_list_replace(ds_list_find_value(controller.scan_list,scanner),2,(256-y)*2);
            ds_list_replace(ds_list_find_value(controller.scan_list,scanner),3,xrad);
            ds_list_replace(ds_list_find_value(controller.scan_list,scanner),4,yrad);
            ds_list_replace(ds_list_find_value(controller.scan_list,scanner),6,angle);
            ds_list_replace(ds_list_find_value(controller.scan_list,scanner),5,alpha);
            }
        else if (mode == 3)
            {
            ds_list_replace(ds_list_find_value(controller.scan_list,scanner),1,x*2);
            ds_list_replace(ds_list_find_value(controller.scan_list,scanner),7,(y-256)*2);
            ds_list_replace(ds_list_find_value(controller.scan_list,scanner),3,xrad);
            ds_list_replace(ds_list_find_value(controller.scan_list,scanner),6,angle);
            ds_list_replace(ds_list_find_value(controller.scan_list,scanner),5,alpha);
            }
        else if (mode == 4)
            {
            ds_list_replace(ds_list_find_value(controller.scan_list,scanner),7,(512-x)*2);
            ds_list_replace(ds_list_find_value(controller.scan_list,scanner),2,(512-y)*2);
            ds_list_replace(ds_list_find_value(controller.scan_list,scanner),4,yrad);
            ds_list_replace(ds_list_find_value(controller.scan_list,scanner),6,angle);
            ds_list_replace(ds_list_find_value(controller.scan_list,scanner),5,alpha);
            }
        }
    with (obj_miniscanner)
        {
        if (master == 1)
            {
            if (mode == 2)
                {
                x = ds_list_find_value(ds_list_find_value(controller.scan_list,scanner),1)/2+256;
                y = 256-ds_list_find_value(ds_list_find_value(controller.scan_list,scanner),2)/2;
                xrad = ds_list_find_value(ds_list_find_value(controller.scan_list,scanner),3);
                yrad = ds_list_find_value(ds_list_find_value(controller.scan_list,scanner),4);
                angle = ds_list_find_value(ds_list_find_value(controller.scan_list,scanner),6);
                alpha = ds_list_find_value(ds_list_find_value(controller.scan_list,scanner),5);
                }
            else if (mode == 3)
                {
                x = ds_list_find_value(ds_list_find_value(controller.scan_list,scanner),1)/2;
                y = ds_list_find_value(ds_list_find_value(controller.scan_list,scanner),7)/2+256;
                xrad = ds_list_find_value(ds_list_find_value(controller.scan_list,scanner),3);
                yrad = ds_list_find_value(ds_list_find_value(controller.scan_list,scanner),4);
                angle = ds_list_find_value(ds_list_find_value(controller.scan_list,scanner),6);
                alpha = ds_list_find_value(ds_list_find_value(controller.scan_list,scanner),5);
                }
            else if (mode == 4)
                {
                x = 512-ds_list_find_value(ds_list_find_value(controller.scan_list,scanner),7)/2;
                y = 512-ds_list_find_value(ds_list_find_value(controller.scan_list,scanner),2)/2;
                xrad = ds_list_find_value(ds_list_find_value(controller.scan_list,scanner),3);
                yrad = ds_list_find_value(ds_list_find_value(controller.scan_list,scanner),4);
                angle = ds_list_find_value(ds_list_find_value(controller.scan_list,scanner),6);
                alpha = ds_list_find_value(ds_list_find_value(controller.scan_list,scanner),5);
                }
            }
        else
            {
            if (mode == 2)
                {
                x = 512-ds_list_find_value(ds_list_find_value(controller.scan_list,scanner),1)/2;
                y = 256-ds_list_find_value(ds_list_find_value(controller.scan_list,scanner),2)/2;
                xrad = -ds_list_find_value(ds_list_find_value(controller.scan_list,scanner),3);
                yrad = ds_list_find_value(ds_list_find_value(controller.scan_list,scanner),4);
                angle = ds_list_find_value(ds_list_find_value(controller.scan_list,scanner),6);
                alpha = ds_list_find_value(ds_list_find_value(controller.scan_list,scanner),5);
                }
            else if (mode == 3)
                {
                x = 256-ds_list_find_value(ds_list_find_value(controller.scan_list,scanner),1)/2;
                y = ds_list_find_value(ds_list_find_value(controller.scan_list,scanner),7)/2+256;
                xrad = -ds_list_find_value(ds_list_find_value(controller.scan_list,scanner),3);
                yrad = ds_list_find_value(ds_list_find_value(controller.scan_list,scanner),4);
                angle = ds_list_find_value(ds_list_find_value(controller.scan_list,scanner),6);
                alpha = ds_list_find_value(ds_list_find_value(controller.scan_list,scanner),5);
                }
            else if (mode == 4)
                {
                x = 512-ds_list_find_value(ds_list_find_value(controller.scan_list,scanner),7)/2;
                y = 512-ds_list_find_value(ds_list_find_value(controller.scan_list,scanner),2)/2;
                xrad = ds_list_find_value(ds_list_find_value(controller.scan_list,scanner),3);
                yrad = ds_list_find_value(ds_list_find_value(controller.scan_list,scanner),4);
                angle = ds_list_find_value(ds_list_find_value(controller.scan_list,scanner),6);
                alpha = ds_list_find_value(ds_list_find_value(controller.scan_list,scanner),5);
                }
            }
        }
    }
    
if ((mouse_x &gt; x-16) and (mouse_x &lt; x+16) and (mouse_y &gt; y-16) and (mouse_y &lt; y+16))
    {
    controller.tooltip = "Hold mouse button and drag to adjust the position of the scanner.#Hold shift to adjust brightness (mouse vertically) and scanning width (mouse horizontally).";
    }
if ((mouse_x &gt; x-16) and (mouse_x &lt; x+16) and (mouse_y &lt; y-20) and (mouse_y &gt; y-52))
    {
    controller.tooltip = "Hold mouse button and drag to adjust the scanning direction.#Hold shift to adjust brightness (mouse vertically) and scanning width (mouse horizontally).";
    }
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="6" enumb="56">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>moving = 0;
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="6" enumb="4">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if ((!rdy) || (!master))
    exit;

controller.selected_scanner = scanner;
if (mouse_y &gt; (y-18))
    moving = 1;
else 
    moving = 2;
mouse_xprevious = mouse_x;
mouse_yprevious = mouse_y;
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="8" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/*if (rdy) and (moving)
    {
    //insert tooltip info
    }
    
</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints>
    <point>0,0</point>
    <point>128,128</point>
  </PhysicsShapePoints>
</object>
